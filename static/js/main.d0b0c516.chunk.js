(this["webpackJsonpanchor-link-demo-multipass"]=this["webpackJsonpanchor-link-demo-multipass"]||[]).push([[0],{124:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(52),a=n(189),s=n(30),i=n(6),c=n.n(i),o=n(9),u=n(18),l=n(20),h=n(28),p=n(12),d=n(53),f=n(97),b=n.n(f),m=n(277),v=n.n(m),y=n(564),k=n(29),g=n(141),x=n(79),A=n(36),w=function(){function t(e){if(Object(u.a)(this,t),this.abiCache=new Map,"object"!==typeof e)throw new TypeError("Missing options object");if(!e.transport)throw new TypeError("options.transport is required, see https://github.com/greymass/anchor-link#transports");void 0===e.rpc||"string"===typeof e.rpc?this.rpc=new p.JsonRpc(e.rpc||g.a.rpc,{fetch:A.b}):this.rpc=e.rpc,e.chainId?this.chainId="number"===typeof e.chainId?h.e(e.chainId):e.chainId:this.chainId=g.a.chainId,e.cosigner&&(this.cosigner=e.cosigner),this.serviceAddress=(e.service||g.a.service).trim().replace(/\/$/,""),this.transport=e.transport,null!==e.storage&&(this.storage=e.storage||this.transport.storage),this.requestOptions={abiProvider:this,textDecoder:e.textDecoder||new TextDecoder,textEncoder:e.textEncoder||new TextEncoder,zlib:v.a}}return Object(l.a)(t,[{key:"getAbi",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.abiCache.get(t)){e.next=6;break}return e.next=4,this.rpc.get_abi(t);case 4:(n=e.sent.abi)&&this.abiCache.set(t,n);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createCallbackUrl",value:function(){return"".concat(this.serviceAddress,"/").concat(Object(y.a)())}},{key:"createRequest",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.assign({},t),r=["expiration","ref_block_num","ref_block_prefix"].every((function(e){return Object.keys(n).includes(e)})),n.actions&&r&&!n.transaction&&(n={transaction:Object(s.a)({},n,{actions:n.actions})}),!this.cosigner||n.identity){e.next=7;break}return e.next=6,this.attemptCosign(n,this.cosigner);case 6:n=e.sent;case 7:return e.next=9,h.d.create(Object(s.a)({},n,{chainId:this.chainId,broadcast:!1,callback:{url:this.createCallbackUrl(),background:!0}}),this.requestOptions);case 9:return a=e.sent,e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attemptCosign",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r,a,s,i,o,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.always,a=n.threshold,s=Object.assign({},t),!r){e.next=6;break}s=this.prependCosigner(s,n),e.next=12;break;case 6:return i=this.getFirstAuthorizer(s),e.next=9,this.rpc.get_account(i.actor);case 9:o=e.sent,u=o.cpu_limit,l=u.available,u.max,(a&&l<a||l<5e3)&&(s=this.prependCosigner(s,n));case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getFirstAuthorizer",value:function(e){try{if(e.action)return e.action.authorization[0];if(e.actions)return e.actions[0].authorization[0];if(e.transaction)return e.transaction.actions[0].authorization[0]}catch(t){throw new Error("Request error while processing authorization: ".concat(t.message))}throw new Error("Request does not contain authorization")}},{key:"prependCosigner",value:function(e,t){var n={account:t.contract,name:t.method,authorization:[{actor:t.account,permission:t.permission}],data:{}};return e.action?{actions:[n,e.action]}:e.actions?{actions:[n].concat(Object(a.a)(e.actions))}:e.transaction?{transaction:Object(s.a)({},e.transaction,{actions:[n].concat(Object(a.a)(e.transaction.actions))})}:e}},{key:"sendRequest",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r,a,s,i,o,u,l,p,d,f,b,m,v,y,g,x,w,O,S,E=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=E.length>2&&void 0!==E[2]&&E[2],a=n||this.transport,e.prev=2,(s=t.data.callback).startsWith(this.serviceAddress)){e.next=6;break}throw new Error("Request must have a link callback");case 6:if(2===t.data.flags){e.next=8;break}throw new Error("Invalid request flags");case 8:return o=V(s,i={}),u=new Promise((function(e,n){a.onRequest(t,(function(e){i.cancel&&i.cancel(),n("string"===typeof e?new k.a(e):e)}))})),e.next=13,Promise.race([o,u]);case 13:return l=e.sent,p={actor:l.sa,permission:l.sp},d=Object.keys(l).filter((function(e){return e.startsWith("sig")&&"sig0"!==e})).map((function(e){return l[e]})),e.next=18,h.c.fromPayload(l,this.requestOptions);case 18:if(f=e.sent,b=f.serializedTransaction,m=f.transaction,v={request:f.request,serializedTransaction:b,transaction:m,signatures:d,payload:l,signer:p},y=this.getFirstAuthorizer({transaction:m}),g=y.actor,x=y.permission,!(this.cosigner&&g===this.cosigner.account&&x===this.cosigner.permission&&this.cosigner&&this.cosigner.url)){e.next=33;break}return e.next=26,Object(A.b)(this.cosigner.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signatures:d,compression:0,packed_context_free_data:"",packed_trx:j(v.serializedTransaction)})});case 26:return w=e.sent,e.next=29,w.json();case 29:if(O=e.sent,w&&200===w.status&&(v.signatures=O.data.signatures),!w||200===w.status){e.next=33;break}throw new Error(JSON.stringify(O.error));case 33:if(!r){e.next=38;break}return e.next=36,this.rpc.push_transaction({signatures:v.signatures,serializedTransaction:v.serializedTransaction});case 36:S=e.sent,v.processed=S.processed;case 38:return a.onSuccess&&a.onSuccess(t,v),e.abrupt("return",v);case 42:throw e.prev=42,e.t0=e.catch(2),a.onFailure&&a.onFailure(t,e.t0),e.t0;case 46:case"end":return e.stop()}}),e,this,[[2,42]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"transact",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n,r){var a,s,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r||this.transport,s=!n||!1!==n.broadcast,e.next=4,this.createRequest(t);case 4:return i=e.sent,e.next=7,this.sendRequest(i,a,s);case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"identify",value:function(){var t=Object(o.a)(c.a.mark((function t(n,r){var a,i,o,u,l,p,f,b,m;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createRequest({identity:{permission:n||null},info:r});case 2:return a=t.sent,t.next=5,this.sendRequest(a);case 5:if((i=t.sent).request.isIdentity()){t.next=8;break}throw new k.b("Unexpected response");case 8:return o=e.concat([e.from(a.getChainId(),"hex"),e.from(i.serializedTransaction),e.alloc(32)]),u=i.signer,l=d.recover(i.signatures[0],o),t.next=13,this.rpc.get_account(u.actor);case 13:if(p=t.sent){t.next=16;break}throw new k.b("Signature from unknown account: ".concat(u.actor));case 16:if(f=p.permissions.find((function(e){return e.perm_name===u.permission}))){t.next=19;break}throw new k.b("".concat(u.actor," signed for unknown permission: ").concat(u.permission));case 19:if(b=f.required_auth,m=b.keys.find((function(e){var t=e.key;return Object(A.e)(t,l)}))){t.next=23;break}throw new k.b("".concat(O(u)," has no key matching id signature"));case 23:if(!(b.threshold>m.weight)){t.next=25;break}throw new k.b("".concat(O(u)," signature does not reach auth threshold"));case 25:if(!n){t.next=28;break}if(!(n.actor!==h.a&&n.actor!==u.actor||n.permission!==h.b&&n.permission!==u.permission)){t.next=28;break}throw new k.b("Unexpected identity proof from ".concat(O(u),", expected ").concat(O(n)," "));case 28:return t.abrupt("return",Object(s.a)({},i,{account:p,signerKey:l}));case 29:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r,a,i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.c)();case 2:return n=e.sent,r=d.privateToPublic(n),a={session_name:t,request_key:r},e.next=7,this.identify(void 0,{link:Object(A.a)(a,"link_create")});case 7:if(i=e.sent,o={sameDevice:void 0!==i.request.getRawInfo().return_path},u=i.payload.link_ch&&i.payload.link_key&&i.payload.link_name?new x.a(this,{identifier:t,auth:i.signer,publicKey:i.signerKey,channel:{url:i.payload.link_ch,key:i.payload.link_key,name:i.payload.link_name},requestKey:n},o):new x.b(this,{identifier:t,auth:i.signer,publicKey:i.signerKey},o),!this.storage){e.next=13;break}return e.next=13,this.storeSession(t,u);case 13:return e.abrupt("return",Object(s.a)({},i,{session:u}));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restoreSession",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r,a,s,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to restore session: No storage adapter configured");case 2:if(!n){e.next=6;break}r=this.sessionKey(t,O(n)),e.next=12;break;case 6:return e.next=8,this.listSessions(t);case 8:if(a=e.sent[0]){e.next=11;break}return e.abrupt("return",null);case 11:r=this.sessionKey(t,O(a));case 12:return e.next=14,this.storage.read(r);case 14:if(s=e.sent){e.next=17;break}return e.abrupt("return",null);case 17:e.prev=17,i=JSON.parse(s),e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(17),new Error("Unable to restore session: Stored JSON invalid (".concat(e.t0.message||String(e.t0),")"));case 24:if(o=x.c.restore(this,i),!n){e.next=28;break}return e.next=28,this.touchSession(t,n);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}}),e,this,[[17,21]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"listSessions",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to list sessions: No storage adapter configured");case 2:return n=this.sessionKey(t,"list"),e.prev=3,e.t0=JSON,e.next=7,this.storage.read(n);case 7:if(e.t1=e.sent,e.t1){e.next=10;break}e.t1="[]";case 10:e.t2=e.t1,r=e.t0.parse.call(e.t0,e.t2),e.next=17;break;case 14:throw e.prev=14,e.t3=e.catch(3),new Error("Unable to list sessions: Stored JSON invalid (".concat(e.t3.message||String(e.t3),")"));case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeSession",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to remove session: No storage adapter configured");case 2:return r=this.sessionKey(t,O(n)),e.next=5,this.storage.remove(r);case 5:return e.next=7,this.touchSession(t,n,!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clearSessions",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var n,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to clear sessions: No storage adapter configured");case 2:return e.t0=r.a,e.next=5,this.listSessions(t);case 5:e.t1=e.sent,n=(0,e.t0)(e.t1),e.prev=7,n.s();case 9:if((a=n.n()).done){e.next=15;break}return s=a.value,e.next=13,this.removeSession(t,s);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(7),n.e(e.t2);case 20:return e.prev=20,n.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[7,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"makeSignatureProvider",value:function(e,t){var n=this;return{getAvailableKeys:function(){var t=Object(o.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),sign:function(){var e=Object(o.a)(c.a.mark((function e(r){var a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=h.d.fromTransaction(r.chainId,r.serializedTransaction,n.requestOptions)).setCallback(n.createCallbackUrl(),!0),a.setBroadcast(!1),e.next=5,n.sendRequest(a,t);case 5:return i=e.sent,o=i.signatures,e.abrupt("return",Object(s.a)({},r,{signatures:o}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},{key:"makeAuthorityProvider",value:function(){var e=this.rpc;return{getRequiredKeys:function(t){return Object(o.a)(c.a.mark((function n(){var r,a,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.availableKeys,a=t.transaction,n.next=3,e.fetch("/v1/chain/get_required_keys",{transaction:a,available_keys:r.map(A.d)});case 3:return s=n.sent,n.abrupt("return",s.required_keys.map(A.d));case 5:case"end":return n.stop()}}),n)})))()}}}},{key:"touchSession",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r,a,s,i,o,u=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],e.next=3,this.listSessions(t);case 3:return a=e.sent,s=O(n),(i=a.findIndex((function(e){return O(e)===s})))>=0&&a.splice(i,1),!1===r&&a.unshift(n),o=this.sessionKey(t,"list"),e.next=11,this.storage.write(o,JSON.stringify(a));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"storeSession",value:function(){var e=Object(o.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.sessionKey(t,O(n.auth)),a=JSON.stringify(n.serialize()),e.next=4,this.storage.write(r,a);case 4:return e.next=6,this.touchSession(t,n.auth);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sessionKey",value:function(e,t){return[this.chainId,e,t].join("-")}}]),t}();function V(e,t){return new Promise((function(n,r){var a=!0,s=0,i=e.replace(/^http/,"ws"),c=function(e){try{n(JSON.parse(e))}catch(t){t.message="Unable to parse callback JSON: "+t.message,r(t)}};!function e(){var n=new b.a(i);t.cancel=function(){a=!1,n.readyState!==b.a.OPEN&&n.readyState!==b.a.CONNECTING||n.close()},n.onmessage=function(e){if(a=!1,n.readyState===b.a.OPEN&&n.close(),"undefined"!==typeof Blob&&e.data instanceof Blob){var t=new FileReader;t.onload=function(){c(t.result)},t.onerror=function(e){r(e)},t.readAsText(e.data)}else"string"===typeof e.data?c(e.data):c(e.data.toString())},n.onopen=function(){s=0},n.onerror=function(e){},n.onclose=function(t){var n;a&&setTimeout(e,(n=s++,Math.min(Math.pow(10*n,2),1e4)))}}()}))}function O(e){var t=e.actor,n=e.permission;return t===h.a&&(t="<any>"),n!==h.a&&n!==h.b||(n="<any>"),"".concat(t,"@").concat(n)}function j(e){var t,n="",a=Object(r.a)(e);try{for(a.s();!(t=a.n()).done;){n+=("00"+t.value.toString(16)).slice(-2)}}catch(s){a.e(s)}finally{a.f()}return n}}).call(this,n(10).Buffer)},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",rpc:"https://eos.greymass.com",service:"https://cb.anchor.link"}},183:function(e,t,n){e.exports=n.p+"static/media/jungle.3f2409df.png"},279:function(e,t,n){"use strict";t.a={version:"eosio::abi/1.1",types:[],structs:[{name:"sealed_message",base:"",fields:[{name:"from",type:"public_key"},{name:"nonce",type:"uint64"},{name:"ciphertext",type:"bytes"},{name:"checksum",type:"uint32"}]},{name:"link_create",base:"",fields:[{name:"session_name",type:"name"},{name:"request_key",type:"public_key"}]},{name:"link_info",base:"",fields:[{name:"expiration",type:"time_point_sec"}]}],actions:[],ricardian_clauses:[],error_messages:[],tables:[],abi_extensions:[]}},286:function(e,t,n){e.exports=n.p+"static/media/eos.b3392955.png"},287:function(e,t,n){e.exports=n.p+"static/media/fio.9ae02e71.svg"},288:function(e,t,n){e.exports=n.p+"static/media/proton.c090f672.png"},289:function(e,t){e.exports="data:image/png;base64,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"},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u}));var r=n(18),a=n(26),s=n(25),i=n(145),c=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,"User canceled request ".concat(e?"("+e+")":""))).code="E_CANCEL",a}return n}(Object(i.a)(Error)),o=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,"Unable to verify identity ".concat(e?"("+e+")":""))).code="E_IDENTITY",a}return n}(Object(i.a)(Error)),u=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e,a){var s;return Object(r.a)(this,n),(s=t.call(this,e)).code=a,s}return n}(Object(i.a)(Error))},290:function(e,t,n){e.exports=n.p+"static/media/wax.f02a31b4.png"},321:function(e,t,n){e.exports=n(563)},342:function(e,t){},344:function(e,t){},355:function(e,t){},357:function(e,t){},36:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return v}));var r=n(6),a=n.n(r),s=n(9),i=n(12),c=n(53),o=n(278),u=n.n(o),l=n(279),h=u()().fetch,p=i.Serialize.getTypesFromAbi(i.Serialize.createInitialTypes(),l.a);function d(e,t){var n=p.get(t);if(!n)throw new Error("No such type: ".concat(t));var r=new i.Serialize.SerialBuffer;return n.serialize(r,e),r.asUint8Array()}function f(e,t,n){var r=c.Aes.encrypt(t,n,e);return d({from:c.privateToPublic(t),nonce:r.nonce.toString(),ciphertext:r.message,checksum:r.checksum},"sealed_message")}function b(e){return e.startsWith("PUB_")?e:i.Numeric.publicKeyToString(i.Numeric.stringToPublicKey("EOS"+e.substr(-50)))}function m(e,t){return b(e)===b(t)}function v(){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"===typeof window||!window.crypto){t.next=6;break}return n=new Uint32Array(32),window.crypto.getRandomValues(n),t.abrupt("return",c.PrivateKey.fromBuffer(e.from(n)).toString());case 6:return t.next=8,c.randomKey();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}).call(this,n(10).Buffer)},563:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(45),i=n.n(s),c=(n(326),n(6)),o=n.n(c),u=n(9),l=n(18),h=n(20),p=n(26),d=n(25),f=n(571),b=n(577),m=n(578),v=n(576),y=n(124),k=(n(79),n(29),n(28),y.a),g=n(310),x=n(181),A=n(95),w=n(573),V=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.chain,r=t.session,s=t.sessions;return a.a.createElement(w.a,null,a.a.createElement(w.a.Header,null,a.a.createElement(w.a.Row,null,a.a.createElement(w.a.HeaderCell,{collapsing:!0},n.name),a.a.createElement(w.a.HeaderCell,null,"Account"),a.a.createElement(w.a.HeaderCell,null,"Permission"),a.a.createElement(w.a.HeaderCell,null))),s.length?a.a.createElement(w.a.Body,null,s.map((function(t){var n=r&&r.auth&&t.actor===r.auth.actor&&t.permission===r.auth.permission,s=Object.values(t).join("-");return a.a.createElement(w.a.Row,{key:s},a.a.createElement(w.a.Cell,{collapsing:!0},a.a.createElement(v.a,{color:n?"blue":"green",content:n?"In Use":"Use Account",disabled:n,onClick:function(){return e.props.setSession(t)}})),a.a.createElement(w.a.Cell,null,t.actor),a.a.createElement(w.a.Cell,null,t.permission),a.a.createElement(w.a.Cell,{collapsing:!0},a.a.createElement(v.a,{color:"red",icon:"trash",onClick:function(){return e.props.removeSession(t)}})))}))):a.a.createElement(w.a.Body,null,a.a.createElement(w.a.Row,{textAlign:"center"},a.a.createElement(w.a.Cell,{colSpan:"4"},"No Accounts Imported"))),a.a.createElement(w.a.Footer,{fullWidth:!0},a.a.createElement(w.a.Row,null,a.a.createElement(w.a.HeaderCell,null),a.a.createElement(w.a.HeaderCell,{colSpan:"4",textAlign:"center"},a.a.createElement(v.a,{basic:!0,content:"Add Account",fluid:!0,onClick:this.props.addAccount,primary:!0})))))}}]),n}(r.Component),O=n(575),j=n(286),S=n.n(j),E=n(287),R=n.n(E),z=n(183),T=n.n(z),q=n(288),I=n.n(q),N=n(289),C=n.n(N),U=n(290),P=n.n(U),J={"0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72":S.a,b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e:R.a,e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473:T.a,"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840":T.a,"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd":I.a,"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f":C.a,f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12:P.a},K=A.map((function(e){return{key:e.chainId,text:e.name,value:e.chainId,image:{avatar:!0,src:J[e.chainId]}}})),L=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.chain;return a.a.createElement(O.a,{fluid:!0,onChange:this.props.onChange,options:K,placeholder:"Select Blockchain...",search:!0,selection:!0,value:e.chainId})}}]),n}(r.Component),D=n(131),H=n.n(D),X=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.error;return console.log(e),a.a.createElement(m.a,{color:"red",size:"large"},a.a.createElement(b.a,{size:"large"},"Error while processing request"),e.message)}}]),n}(r.Component),F=n(30),B=n(574),Z=n(99),Q=n(144),Y=n(275),W=Q.Serialize.getTypesFromAbi(Q.Serialize.createInitialTypes(),Y),M=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).testResponse=function(){var t=e.props.response;return[{name:"Signatures returned by signer",desc:"The signer has returned signatures in its response.",test:function(e){return!!(e.signatures&&e.signatures.length>=1)},data:function(e){return JSON.stringify(e.signatures)}},{name:"Unserialized transaction returned by signer",desc:"The signer has returned an unserialized transaction in its response.",test:function(e){return!!e.transaction},data:function(e){return JSON.stringify(e.transaction)}},{name:"Serialized transaction returned by signer",desc:"The signer has returned a serialized transaction in its response.",test:function(e){return!!e.serializedTransaction},data:function(e){return JSON.stringify(e.serializedTransaction)}},{name:"Serialized transaction successfully deserialized",desc:"The serialized transaction the signer returned can be successfully deserialized.",test:function(t){try{var n=e.deserialize(t.serializedTransaction);return n.expiration&&n.actions&&n.actions.length>0&&n.ref_block_num>0&&n.ref_block_prefix>0}catch(r){return!1}},data:function(t){try{var n=e.deserialize(t.serializedTransaction);return JSON.stringify(n)}catch(r){return JSON.stringify({})}}}].map((function(e){return Object(F.a)({},e,{res:e.test(t),val:e.data(t)})}))},e.deserialize=function(e){var t=new Q.Serialize.SerialBuffer({array:e});return W.get("transaction").deserialize(t)},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.response,t=this.testResponse();return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,{style:{overflowX:"scroll"}},a.a.createElement(B.a,{divided:!0,relaxed:!0},t.map((function(e){return a.a.createElement(B.a.Item,null,a.a.createElement(B.a.Icon,{color:e.res?"green":"red",name:e.res?"checkmark":"x",size:"large",verticalAlign:"top"}),a.a.createElement(B.a.Content,null,a.a.createElement(B.a.Header,null,e.name),a.a.createElement(B.a.Description,null,e.desc),a.a.createElement(B.a.Content,{style:{margin:"0.5em 0"}},a.a.createElement("code",null,e.val))))})))),a.a.createElement(m.a,{style:{background:"rgb(39, 40, 34)"}},a.a.createElement(b.a,{dividing:!0,size:"large",style:{borderBottom:"1px solid white",color:"white"}},"Callback Payload"),a.a.createElement(Z.a,{text:"console.log(response.payload);",language:"javascript",showLineNumbers:!1,theme:Z.b,wrapLines:!0}),a.a.createElement(H.a,{displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1,iconStyle:"square",name:null,src:e.payload,style:{background:"rgb(39, 40, 34)",marginTop:"1em",overflow:"scroll"},theme:"harmonic"})),a.a.createElement(m.a,{style:{background:"rgb(39, 40, 34)"}},a.a.createElement(b.a,{dividing:!0,size:"large",style:{borderBottom:"1px solid white",color:"white"}},"Signer"),a.a.createElement(Z.a,{text:"console.log(response.signer);",language:"javascript",showLineNumbers:!1,theme:Z.b,wrapLines:!0}),a.a.createElement(H.a,{displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1,iconStyle:"square",name:null,src:e.signer,style:{background:"rgb(39, 40, 34)",marginTop:"1em",overflow:"scroll"},theme:"harmonic"})))}}]),n}(r.Component),_=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;Object(l.a)(this,n),(r=t.call(this,e)).addAccount=Object(u.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.chainId,e.prev=1,e.next=4,r.link.login("anchor-link-demo-multipass",{chainId:t});case 4:return n=e.sent,e.next=7,r.link.listSessions("anchor-link-demo-multipass");case 7:a=e.sent,r.setState({error:void 0,response:void 0,session:n.session,sessions:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),r.establishLink=Object(u.a)(o.a.mark((function e(){var t,n,a,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.chainId,n=Object(x.find)(A,{chainId:t}),a=n.rpcEndpoints[0],r.link=new k({chainId:t,cosigner:{account:"greymassfuel",always:!0,permission:"cosign",contract:"greymassnoop",method:"noop",url:"https://eos.greymass.com/v1/fuel/get_signature"},rpc:"".concat(a.protocol,"://").concat(a.host,":").concat(a.port),service:"https://cb.anchor.link",transport:new g.a({requestStatus:!1})}),e.next=6,r.link.restoreSession("anchor-link-demo-multipass");case 6:return s=e.sent,e.next=9,r.link.listSessions("anchor-link-demo-multipass");case 9:return i=e.sent,r.setState({chainId:t,error:void 0,session:s,sessions:i}),e.abrupt("return",r.link);case 12:case"end":return e.stop()}}),e)}))),r.signTransaction=Object(u.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.session,e.prev=1,r.setState({response:void 0}),n={account:"eosio",name:"voteproducer",authorization:[t.auth],data:{producers:[],proxy:"greymassvote",voter:t.auth.actor}},e.next=6,t.transact({actions:[n]},{});case 6:a=e.sent,r.setState({error:void 0,response:a}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),r.setState({error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),r.setChainId=function(e,t){var n=t.value;return r.setState({chainId:n,error:void 0,response:void 0},(function(){var e=new URLSearchParams(window.location.search);e.set("chainId",n),window.history.pushState(null,null,"?".concat(e.toString()))}))},r.setSession=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.link.restoreSession("anchor-link-demo-multipass",t);case 2:n=e.sent,r.setState({error:void 0,response:void 0,session:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.removeSession=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.link.removeSession("anchor-link-demo-multipass",t);case 2:n=r.state,a=n.session,s=n.sessions,a&&a.auth.actor===t.actor&&a.auth.permission===t.permission&&r.setState({session:void 0}),r.setState({sessions:s.filter((function(e){return!(e.actor===t.actor&&e.permission===t.permission)}))});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var a=window.location.search,s=new URLSearchParams(a).get("chainId")||"0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72";return r.state={error:void 0,response:void 0,session:void 0,sessions:[],chainId:s},r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.establishLink()}},{key:"componentDidUpdate",value:function(e,t){this.state.chainId!==t.chainId&&this.establishLink()}},{key:"render",value:function(){var e=this.state,t=e.chainId,n=e.error,r=e.session,s=e.sessions,i=e.response,c=Object(x.find)(A,{chainId:t});return a.a.createElement(f.a,{style:{paddingTop:"2em"}},a.a.createElement(b.a,{attached:"top",block:!0,size:"huge"},"anchor-link-demo-multipass",a.a.createElement(b.a.Subheader,null,a.a.createElement("p",null,"An anchor-link demo that allows multiple persistent logins from different blockchains and accounts."),a.a.createElement("p",null,"Source code: ",a.a.createElement("a",{href:"https://github.com/greymass/anchor-link-demo-multipass"},"https://github.com/greymass/anchor-link-demo-multipass")))),a.a.createElement(m.a,{attached:!0,padded:!0},a.a.createElement("p",null,"Switch to a specific blockchain."),a.a.createElement(L,{chain:c,onChange:this.setChainId})),a.a.createElement(m.a,{attached:!0,padded:!0},a.a.createElement(b.a,null,"Available Accounts"),a.a.createElement(V,{addAccount:this.addAccount,chain:c,session:r,sessions:s,setSession:this.setSession,removeSession:this.removeSession})),a.a.createElement(m.a,{attached:!0,padded:!0},a.a.createElement(b.a,null,"Transact with anchor-link"),a.a.createElement(v.a,{content:"Sign Test Transaction",disabled:!r,icon:"external",onClick:this.signTransaction,primary:!0,size:"huge"}),!r&&a.a.createElement("p",{style:{marginTop:"0.5em"}},"Login using anchor-link to sign a test transaction.")),a.a.createElement(m.a,{attached:"bottom",padded:!0},!!n&&a.a.createElement(X,{error:n}),!!i&&a.a.createElement(M,{response:i})))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));var r=n(30),a=n(26),s=n(25),i=n(6),c=n.n(i),o=n(9),u=n(18),l=n(20),h=n(29),p=n(36),d=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"remove",value:function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.link.storage){e.next=3;break}return e.next=3,this.link.removeSession(this.identifier,this.auth);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"restore",value:function(e,t){switch(t.type){case"channel":return new f(e,t.data,t.metadata);case"fallback":return new b(e,t.data,t.metadata);default:throw new Error("Unable to restore, session data invalid")}}}]),e}(),f=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e,a,s){var i;return Object(u.a)(this,n),(i=t.call(this)).type="channel",i.timeout=12e4,i.link=e,i.auth=a.auth,i.publicKey=a.publicKey,i.channel=a.channel,i.identifier=a.identifier,i.encrypt=function(e){return Object(p.f)(e.encode(!0,!1),a.requestKey,a.channel.key)},i.metadata=Object(r.a)({},s||{},{timeout:i.timeout,name:i.channel.name}),i.serialize=function(){return{type:"channel",data:a,metadata:i.metadata}},i}return Object(l.a)(n,[{key:"onSuccess",value:function(e,t){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,t)}},{key:"onFailure",value:function(e,t){this.link.transport.onFailure&&this.link.transport.onFailure(e,t)}},{key:"onRequest",value:function(e,t){var n={expiration:new Date(Date.now()+this.timeout).toISOString().slice(0,-1)};this.link.transport.onSessionRequest&&this.link.transport.onSessionRequest(this,e,t),setTimeout((function(){t(new h.c("Wallet did not respond in time","E_TIMEOUT"))}),this.timeout+500),e.data.info.push({key:"link",value:Object(p.a)(n,"link_info")}),Object(p.b)(this.channel.url,{method:"POST",headers:{"X-Buoy-Wait":(this.timeout/1e3).toFixed(0)},body:this.encrypt(e)}).then((function(e){200!==e.status&&t(new h.c("Unable to push message","E_DELIVERY"))})).catch((function(e){t(new h.c("Unable to reach link service (".concat(e.message||String(e),")"),"E_DELIVERY"))}))}},{key:"makeSignatureProvider",value:function(){return this.link.makeSignatureProvider([this.publicKey],this)}},{key:"makeAuthorityProvider",value:function(){return this.link.makeAuthorityProvider()}},{key:"transact",value:function(e,t){return this.link.transact(e,t,this)}}]),n}(d),b=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e,r,a){var s;return Object(u.a)(this,n),(s=t.call(this)).type="fallback",s.link=e,s.auth=r.auth,s.publicKey=r.publicKey,s.metadata=a||{},s.identifier=r.identifier,s.serialize=function(){return{type:s.type,data:r,metadata:s.metadata}},s}return Object(l.a)(n,[{key:"onSuccess",value:function(e,t){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,t)}},{key:"onFailure",value:function(e,t){this.link.transport.onFailure&&this.link.transport.onFailure(e,t)}},{key:"onRequest",value:function(e,t){this.link.transport.onSessionRequest?this.link.transport.onSessionRequest(this,e,t):this.link.transport.onRequest(e,t)}},{key:"makeSignatureProvider",value:function(){return this.link.makeSignatureProvider([this.publicKey],this)}},{key:"makeAuthorityProvider",value:function(){return this.link.makeAuthorityProvider()}},{key:"transact",value:function(e,t){return this.link.transact(e,t,this)}}]),n}(d)},95:function(e){e.exports=JSON.parse('[{"chainId":"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","name":"EOS","rpcEndpoints":[{"protocol":"https","host":"eos.eosn.io","port":443}]},{"chainId":"0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72","name":"Block.one (Testnet)","rpcEndpoints":[{"protocol":"https","host":"api.testnet.eos.io","port":443}]},{"chainId":"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e","name":"FIO (Testnet)","rpcEndpoints":[{"protocol":"https","host":"fiotestnet.greymass.com","port":443}]},{"chainId":"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473","name":"Jungle 2 (Testnet)","rpcEndpoints":[{"protocol":"https","host":"jungle.greymass.com","port":443}]},{"chainId":"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840","name":"Jungle 3 (Testnet)","rpcEndpoints":[{"protocol":"https","host":"jungle3.greymass.com","port":443}]},{"chainId":"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd","name":"Proton (Testnet)","rpcEndpoints":[{"protocol":"https","host":"protontestnet.greymass.com","port":443}]},{"chainId":"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f","name":"Telos (Testnet)","rpcEndpoints":[{"protocol":"https","host":"testnet.eos.miami","port":443}]},{"chainId":"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12","name":"WAX (Testnet)","rpcEndpoints":[{"protocol":"https","host":"waxtestnet.greymass.com","port":443}]}]')}},[[321,152,153]]]);
//# sourceMappingURL=main.d0b0c516.chunk.js.map